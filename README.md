# Telegram assistant bot (python-telegram-bot v20.x)

–ö—Ä–∞—Ç–∫–∞—è –∑–∞–≥–æ—Ç–æ–≤–∫–∞ Telegram-–±–æ—Ç–∞ –¥–ª—è –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ –Ω–∞ Python 3.10+ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `python-telegram-bot` 20.x.

**–ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ**
- –§–∞–π–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: [requirements.txt](requirements.txt)
- –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è: [.env.example](.env.example)
- –ë–∞–∑–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞: [main.py](main.py)

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**

project/
- main.py
- requirements.txt
- .env.example
- handlers/         # –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥ –∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ (—Å–æ–∑–¥–∞—Ç—å –ø–æ–∑–∂–µ)
- keyboards.py      # inline / reply keyboards
- database/         # sqlite —Ñ–∞–π–ª—ã –∏ –º–æ–¥—É–ª–∏ –¥–æ—Å—Ç—É–ø–∞
- config.py         # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (–ª–æ–∫–∞–ª—å–Ω–æ)**

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ:

```bash
python3 -m venv .venv
source .venv/bin/activate
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ `BOT_TOKEN` (–∏ `ADMIN_ID`):

```bash
cp .env.example .env
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –≤—Å—Ç–∞–≤—å—Ç–µ BOT_TOKEN
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
python main.py
```

**–î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)**
- –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å `handlers/` –∏ —Ä–∞–∑–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É: `start`, `faq`, `orders`, `news`, `admin_forward`.
- –•—Ä–∞–Ω–∏—Ç—å FAQ / –Ω–æ–≤–æ—Å—Ç–∏ / –∑–∞–∫–∞–∑—ã –≤ `data/*.json` –∏–ª–∏ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sqlite` —á–µ—Ä–µ–∑ `database/`.
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ConversationHandler` –¥–ª—è –ø—Ä–∏—ë–º–∞ –∑–∞—è–≤–æ–∫ –∏ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –∑–∞–∫–∞–∑–æ–≤.
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ —Ç–µ—Å—Ç—ã.

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –º–æ–≥—É —Å—Ä–∞–∑—É:
- —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫–∏ `handlers/` –∏ `database/` –∏ –¥–æ–±–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤;
- —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π FAQ –∏ flow –¥–ª—è –ø—Ä–∏—ë–º–∞ –∑–∞—è–≤–∫–∏.

**Deployment**

–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ ‚Äî –∫—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

- –ù–∞ VPS (systemd): —Å–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ–∑–¥–∞–π—Ç–µ systemd-—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç `python main.py`. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` –ø—Ä–æ–ø–∏—Å–∞–Ω—ã `BOT_TOKEN` –∏ `ADMIN_ID`, –∏ —á—Ç–æ —Ñ–∞–π–ª SQLite –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–ø–∏—Å–∏. –ü—Ä–∏–º–µ—Ä unit-—Ñ–∞–π–ª–∞:

```ini
[Unit]
Description=My Telegram Bot
After=network.target

[Service]
User=youruser
WorkingDirectory=/path/to/project
EnvironmentFile=/path/to/project/.env
ExecStart=/path/to/project/.venv/bin/python /path/to/project/main.py
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

- –ù–∞ Heroku / Railway: –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `Procfile` —Å `worker: python main.py`, –¥–æ–±–∞–≤—å—Ç–µ `BOT_TOKEN` –∏ `ADMIN_ID` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–∫—Ä—É–∂–µ–Ω–∏—è. –£—á—Ç–∏—Ç–µ, —á—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏–µ SQLite –≤ ephemeral FS –Ω–µ –Ω–∞–¥—ë–∂–µ–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ PostgreSQL.

**Backup**
- –†–µ–∑–µ—Ä–≤–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª SQLite (`data/db.sqlite`). –î–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –≥–∞—Ä–∞–Ω—Ç–∏–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∫–æ–ø–∏–∏ –∏ —Ö—Ä–∞–Ω–∏—Ç–µ –∏—Ö –≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ cron –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

**Test scenario**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ: `python main.py`.
2. –í Telegram –Ω–∞–ø–∏—à–∏—Ç–µ `/start` ‚Äî –±–æ—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.
3. –ù–∞–∂–º–∏—Ç–µ "‚ÑπÔ∏è FAQ" –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å ‚Äî –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∏–∑ `FAQ_DATA`.
4. –ù–∞–∂–º–∏—Ç–µ "üõçÔ∏è –°–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑" –∏ –ø—Ä–æ–π–¥–∏—Ç–µ 3 —à–∞–≥–∞ ‚Äî –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–¥–º–∏–Ω –ø–æ–ª—É—á–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–∫–∞–∑–∞.
5. –ù–∞–∂–º–∏—Ç–µ "üîç –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞" –∏ –≤–≤–µ–¥–∏—Ç–µ –≤—ã–¥–∞–Ω–Ω—ã–π ID ‚Äî –±–æ—Ç –æ—Ç–æ–±—Ä–∞–∑–∏—Ç —Å—Ç–∞—Ç—É—Å.

# personalmanager_bot
